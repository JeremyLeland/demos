NEXT:
  - U-turns are more complicated
    - Maybe we should create them as part of the drawing? Or something drawing-like?
    - Start at an outermost lane and traverse the links. 
    - If we get to the edge of a street without a link, add a u-turn
    + There's two issues here:
      - We're creating join arcs when there isn't enough room
        - Need extra room to make it "worth it"?
        - Need to make sure both sets of join arcs, left and right? How do we determine this?
          - This seems most promising, regardless of method used to determine u-turn
          - How do we know from one missing set of pairs which others to exclude, though?
            - exclude whichever side was shorter, I guess
      - We're creating u-turns when the segment is too short to justify it
  - Redo intersections as list of affected routes and start/stop distances (instead of paths of tiny routes)
  - Lane-changing routes, merges (blocks unequal lanes!)

Editor features:
  - Snap start and end of new roads to existing roads
  - Move existing roads (maintaining size) (with middle click?)
  - Distinguish between changing curve of existing road and adding a new one? (some toggle button?)
    - Maybe better to click to select streets first before moving and resizing them?
    - Left clicks with nothing selected create a new road
    - Left clicks with a road selected resize that road
    - Middle clicks with nothing selected move the view around
    - Middle clicks with a road already selected move the road around
  - Save current streets to localStore and load on start
    - Also need a clear button to reset streets


Intersection demos:
  - Instead of paths, intersections will be a set of routes with optional start and end distances

  +-------+
  |   |   |
  |-------|
  |   |   |
  +-------+

  - 2 way, 3 way, and 4 way intersections with lines
    - 2 way shouldn't be an intersection, just a join
    - 3 and 4 way should generate intersection and timings
  
    ---------
   /   / \   \
  |---|---|---|
   \   \ /   / 
    ---------

  - Two circles "venn diagram" style with a horizontal line between them
    - 3-way and 4-way intersections with line and arc

- 4-way stop
  - Simulate by quickly rotating short windows for each direction and specify yield?
    - Yield should keep them from crashing
    - Quickly rotating windows should prevent the same lane from going multiple times if someone else is waiting



Splitting and merging lanes:
  - e.g. splitting to add a left turn lane
  - Change streets to have lane info as part of start and end:
    street: {
      start: {
        pos: [ x, y ],
        lanes: {
          left: 1,
          right: 2,
        },
      },
      end: {
        pos: [ x, y ],
        lanes: {
          left: 2,
          right: 2,
        },
      },
    }
  - Longer, but I think it's the clearest way to save this info



How should streets with unequal numbers of lanes end?
  - They can't all u-turn into themselves
  - If I'm going to have a rule that all lanes need to connect to something and can't just "end",
    then it'll need to merge into a previous lane
    - This breaks the idea that all streets and can exist on their own
      - Which is weird in real life, but common in an editor
  - At some point, we need the ability to change lanes, so every street is going to have at least one
    lane-changing join between lanes. Maybe this becomes the end of the route if it doesn't like to anything else?
    - Seems like lane changes and merging need to be a higher priority, as they are blocking unequal lanes