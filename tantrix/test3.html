<title>Draw from Board</title>
<link rel="stylesheet" href="../grid.css">

<script type="module">
  import { Canvas } from './Canvas.js';
  import * as Tantrix from './Tantrix.js';

  const board = [
    { id:  0, rot:  0, col:  0, row:  0 },
    { id: 10, rot: -1, col:  0, row:  1 },
    { id:  5, rot:  3, col:  1, row:  0 },
    { id:  1, rot:  2, col: -1, row: -1 },
    { id:  2, rot:  2, col: -1, row:  0 },
    { id:  7, rot:  2, col:  1, row: -1 },
    { id:  8, rot:  2, col:  1, row:  1 },
    { id: 11, rot: -2, col:  2, row:  2 },
    { id: 12, rot:  5, col:  2, row: -2 },
    { id: 3, rot: -2, col:  2, row: -1 },
  ];

  const SIZE = 16;

  const canvas = new Canvas();

  canvas.draw = ( ctx ) => {
    ctx.translate( 0.5, 0.5 );
    ctx.scale( 1 / SIZE, 1 / SIZE );

    board.forEach( piece => Tantrix.drawPiece( ctx, piece ) );
  }

  console.log( Tantrix.isValidMove( board, { id: 4, rot: 0, col: 0, row: -1 } ) );
  console.log( Tantrix.isValidMove( board, { id: 4, rot: 3, col: 0, row: -1 } ) );

  console.log( Tantrix.isValidMove( board, { id: 4, rot: 0, col: -1, row: 1 } ) );
  console.log( Tantrix.isValidMove( board, { id: 4, rot: 4, col: -1, row: 1 } ) );

  console.log( Tantrix.isValidMove( board, { id: 4, rot: 0, col: 2, row: 0 } ) );
  console.log( Tantrix.isValidMove( board, { id: 4, rot: 3, col: 2, row: 0 } ) );


  canvas.redraw();

</script>