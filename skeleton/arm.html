<link rel="stylesheet" href="../grid.css">

<canvas id="canvas" width="500" height="500"></canvas>

<script>

  const segments = [
    { x: 100, y: 100, angle: 0.5, width: 100, height: 20, fillStyle: 'blue' },
    { x: 100, y:   0, angle: 1.0, width:  50, height: 20, fillStyle: 'green' },
  ]

  const ctx = document.getElementById( 'canvas' ).getContext( '2d' );

  draw();

  function draw() {
    ctx.clearRect( 0, 0, ctx.canvas.width, ctx.canvas.height );

    ctx.save();

    segments.forEach( segment => {
      ctx.translate( segment.x, segment.y );
      ctx.rotate( segment.angle );
      
      ctx.fillStyle = segment.fillStyle;
      ctx.fillRect( 0, -segment.height / 2, segment.width, segment.height );
    } );

    ctx.restore();
  }

  document.onwheel = ( e ) => {
    segments[ 1 ].angle += e.wheelDelta * 0.001;
    draw();
  };

</script>